services:
  tcp-relay:
    build: .
    container_name: tcp-relay
    restart: unless-stopped
    command:
      - relay
      - --public-bind
      - 0.0.0.0
      - --public-port-start
      - "2222"
      - --public-port-end
      - "2300"
      - --control-bind
      - 0.0.0.0:7000
      - --data-bind
      - 0.0.0.0:7001
      - --token
      - ${PROXY_TOKEN}
    ports:
      - "2222-2300:2222-2300"
      - "7000:7000"
      - "7001:7001"
    environment:
      PROXY_TOKEN: ${PROXY_TOKEN}
